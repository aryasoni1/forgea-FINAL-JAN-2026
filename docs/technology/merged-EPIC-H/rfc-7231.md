# RFC 7231

- Category: HTTP
- Epics: J, K
- Version / Requirement: RFC 7231
- Intent / Critical Decision: Idempotency, status codes, and retry semantics.

## EPIC-G — Notes

- Mentioned in: EPIC-G — PUSH FLOW & SNAPSHOT PREVIEW
- EPIC-G intent: Authoritative status-code and retry guidance for webhook intake, snapshot build triggers, and idempotent handler design.
- Important points:
  - Use RFC 7231 to justify idempotency policies (which status codes trigger provider retries) in `G1` and `G2` briefs.
  - Document recommended response semantics for webhook handlers (e.g., 202/2xx for accepted processing, 4xx for bad signatures, 5xx for transient failures to trigger retries) and map these to provider behaviors.
  - Reference RFC-backed guidance in deduplication and idempotency policy documents linked from EPIC-G planner specs.

## EPIC-J — Notes

- Mentioned in: EPIC-J — Lesson Progress Tracking (J6)
- EPIC-J intent: Use RFC 7231 guidance to design idempotent progress endpoints and retry semantics for client-sent progress events.
- Important points:
  - Define idempotency semantics and status-code mappings for progress saves (e.g., 2xx for success/accepted, 4xx for client errors, 5xx for transient server errors that should trigger retries).
  - Document idempotency keys and retry/backoff expectations for clients (to avoid duplicate writes and retry storms).
  - Ensure API contracts reference RFC-backed semantics so client and server implementations align on retry behavior and acceptable error codes.

---

# EPIC-H — Notes (merged)

- Referenced by: EPIC-H — LAB TESTING & VERIFICATION ENGINE
- Intent: Use RFC 7231 to define idempotency semantics, retry behavior, and which HTTP status codes are treated as retryable by clients and workers.
- Important points:
  - Define idempotency key format for enqueue/intake endpoints and how to respond to retries.
  - Map status codes to retry vs permanent failure behavior for verification enqueue and intake APIs.
